<html>
<head>
	<style>
		.nothing {
			border-style : none;
			background-color : white;
			height : 75px;
			width : 75px;
			display : inline-block;
		}
		.player {
			border-style : none;
			background-color : red;
			height : 75px;
			width : 75px;
			display : inline-block;
		}
		.obstacle {
		  	border-style : none;
			background-color : black;
			height : 75px;
			width : 75px;
			display : inline-block;
		}
	</style>
<script src="main.js"></script>
<script>
		var level = 0;
		function isTop()
		{
			return isStanding() && y == SIZE - 1;
		}
		function reload_game()
		{
			document.getElementById("b").innerHTML = init_display();
			function randbetween(x,y)
			{
				return Math.floor(Math.random()*(y+1-x)+x);
			}
			function random_obstacle() {
				for (i = 0; i < arguments.length; i++) {
					if(i != 0){
						var possible = [random_x-2,random_x-1+2*(random_x==0),random_x+1-2*(random_x==SIZE-1),random_x+2];
						if(possible[0]<0 && random_x == 0)
						{
							possible[0] = 1;
						}
						else if(possible[0]<0 && random_x == 1)
						{
							possible[0] = 0;
						}
						else if(possible[3]>=SIZE && random_x == SIZE-1)
						{
							possible[3] = SIZE-2;
						}
						else if(possible[3]>=SIZE && random_x == SIZE-2)
						{
							possible[3] = SIZE-1;
						}
						random_x = possible[randbetween(0,3)]
					}
					if(i == 0) random_x = randbetween(0,SIZE-1);
				    set_obstacle(random_x, arguments[i])
				}
	
			}
		
			random_obstacle(1,3,5);
			level++;
			x = 0;
			y = 0;
			increments = 0;
			direction = 0;
		}
</script>
</head>
<body id="body" onkeydown = "keydown(event);if(isTop()){reload_game();display();}">
<div id="b" style="border-style:solid;border-color:black;">
</div>
<button onclick = "FALLNOBUTTON=!FALLNOBUTTON;">
	Fall Automatically
</button>
</body>
	<script>
		document.getElementById("b").style.width = 75*SIZE+"px";
		document.getElementById("b").style.height= 75*SIZE+"px";
		reload_game();
	</script>
</html>

